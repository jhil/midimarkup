{"version":3,"sources":["node_modules/browser-pack/_prelude.js","audio.js","src/js/audio.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","$","document","keyup","which","speech","SpeechSynthesisUtterance","getInstrumentName","window","speechSynthesis","speak","preventDefault","slice","text","substring","getCaretCharacterOffsetWithin","lines","split","lastLine","trim","element","caretOffset","doc","ownerDocument","win","defaultView","parentWindow","sel","getSelection","rangeCount","range","getRangeAt","preCaretRange","cloneRange","selectNodeContents","setEnd","endContainer","endOffset","toString","selection","type","textRange","createRange","preCaretTextRange","body","createTextRange","moveToElementText","setEndPoint"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,SAAAC,UAAA,YAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,GAAAL,SAAAD,UAAA,YAAAA,OAAA,KAAA,GAAAH,GAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,MAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCCA,YCDAK,GAAEC,UAAUC,MAAM,SAASrB,GACzB,OAAOA,EAAEsB,OACP,IAAK,IADP,IAEO,IACH,KAHJ,KAIO,IAJP,IAKO,IACH,GAAIC,GAAS,GAAIC,0BAAyBC,IAC1CC,QAAOC,gBAAgBC,MAAML,EAC7B,MARJ,SAUI,OAEJvB,EAAE6B,kBAGJ,SAASJ,KACP,GAAIK,GAAQX,EAAE,UAAUY,OAAOC,UAAU,EAAGC,EAA8Bd,EAAE,UAAU,IACtF,IAAIe,GAAQJ,EAAMK,MAAM,KAExB,IAAIC,GAAWF,EAAMA,EAAMlB,OAAS,GAAGqB,MACvC,OAAOD,GAASD,MAAM,KAAK,GAK7B,QAASF,GAA8BK,GACnC,GAAIC,GAAc,CAClB,IAAIC,GAAMF,EAAQG,eAAiBH,EAAQlB,QAC3C,IAAIsB,GAAMF,EAAIG,aAAeH,EAAII,YACjC,IAAIC,EACJ,UAAWH,GAAII,cAAgB,YAAa,CACxCD,EAAMH,EAAII,cACV,IAAID,EAAIE,WAAa,EAAG,CACpB,GAAIC,GAAQN,EAAII,eAAeG,WAAW,EAC1C,IAAIC,GAAgBF,EAAMG,YAC1BD,GAAcE,mBAAmBd,EACjCY,GAAcG,OAAOL,EAAMM,aAAcN,EAAMO,UAC/ChB,GAAcW,EAAcM,WAAWxC,YAExC,KAAM6B,EAAML,EAAIiB,YAAcZ,EAAIa,MAAQ,UAAW,CACxD,GAAIC,GAAYd,EAAIe,aACpB,IAAIC,GAAoBrB,EAAIsB,KAAKC,iBACjCF,GAAkBG,kBAAkB1B,EACpCuB,GAAkBI,YAAY,WAAYN,EAC1CpB,GAAcsB,EAAkB9B,KAAKf,OAEzC,MAAOuB,cDOA","file":"audio.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n$(document).keyup(function (e) {\n  switch (e.which) {\n    case 37: // left\n    case 39:\n      // right\n      break;\n    case 38: // up\n    case 40:\n      // down\n      var speech = new SpeechSynthesisUtterance(getInstrumentName());\n      window.speechSynthesis.speak(speech);\n      break;\n    default:\n      return; // exit\n  }\n  e.preventDefault(); // prevent the default action (scroll / move caret)\n});\n\nfunction getInstrumentName() {\n  var slice = $(\".track\").text().substring(0, getCaretCharacterOffsetWithin($('.track')[0]));\n  var lines = slice.split('\\n');\n\n  var lastLine = lines[lines.length - 1].trim();\n  return lastLine.split(\" \")[0];\n};\n\n//Credit some sweet angel on JSFiddle\nfunction getCaretCharacterOffsetWithin(element) {\n  var caretOffset = 0;\n  var doc = element.ownerDocument || element.document;\n  var win = doc.defaultView || doc.parentWindow;\n  var sel;\n  if (typeof win.getSelection != \"undefined\") {\n    sel = win.getSelection();\n    if (sel.rangeCount > 0) {\n      var range = win.getSelection().getRangeAt(0);\n      var preCaretRange = range.cloneRange();\n      preCaretRange.selectNodeContents(element);\n      preCaretRange.setEnd(range.endContainer, range.endOffset);\n      caretOffset = preCaretRange.toString().length;\n    }\n  } else if ((sel = doc.selection) && sel.type != \"Control\") {\n    var textRange = sel.createRange();\n    var preCaretTextRange = doc.body.createTextRange();\n    preCaretTextRange.moveToElementText(element);\n    preCaretTextRange.setEndPoint(\"EndToEnd\", textRange);\n    caretOffset = preCaretTextRange.text.length;\n  }\n  return caretOffset;\n}\n\n},{}]},{},[1])\n\n","$(document).keyup(function(e) {\n  switch(e.which) {\n    case 37: // left\n    case 39: // right\n      break;\n    case 38: // up\n    case 40: // down\n      var speech = new SpeechSynthesisUtterance(getInstrumentName());\n      window.speechSynthesis.speak(speech);\n      break;\n    default: \n      return; // exit\n  }\n  e.preventDefault(); // prevent the default action (scroll / move caret)\n});\n\nfunction getInstrumentName() {\n  var slice = $(\".track\").text().substring(0, getCaretCharacterOffsetWithin($('.track')[0]) );\n  var lines = slice.split('\\n');\n\n  var lastLine = lines[lines.length - 1].trim();\n  return lastLine.split(\" \")[0];\n};\n\n\n//Credit some sweet angel on JSFiddle\nfunction getCaretCharacterOffsetWithin(element) {\n    var caretOffset = 0;\n    var doc = element.ownerDocument || element.document;\n    var win = doc.defaultView || doc.parentWindow;\n    var sel;\n    if (typeof win.getSelection != \"undefined\") {\n        sel = win.getSelection();\n        if (sel.rangeCount > 0) {\n            var range = win.getSelection().getRangeAt(0);\n            var preCaretRange = range.cloneRange();\n            preCaretRange.selectNodeContents(element);\n            preCaretRange.setEnd(range.endContainer, range.endOffset);\n            caretOffset = preCaretRange.toString().length;\n        }\n    } else if ( (sel = doc.selection) && sel.type != \"Control\") {\n        var textRange = sel.createRange();\n        var preCaretTextRange = doc.body.createTextRange();\n        preCaretTextRange.moveToElementText(element);\n        preCaretTextRange.setEndPoint(\"EndToEnd\", textRange);\n        caretOffset = preCaretTextRange.text.length;\n    }\n    return caretOffset;\n}\n"],"sourceRoot":"/source/"}