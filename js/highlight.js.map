{"version":3,"sources":["node_modules/browser-pack/_prelude.js","highlight.js","src/js/highlight.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","changed","lastValue","div","$","instruments","notes","modifiers","markInstruments","html","replace","text","exp","each","instrument","RegExp","m","console","log","markNotes","note","markModifiers","modifier","document","keydown","setInterval","highlightSyntax","window","getSelection","setPosition","setEndOfContenteditable","contentEditableElement","range","selection","createRange","selectNodeContents","collapse","removeAllRanges","addRange","body","createTextRange","moveToElementText","select"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,SAAAC,UAAA,YAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,GAAAL,SAAAD,UAAA,YAAAA,OAAA,KAAA,GAAAH,GAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,MAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCCA,YCDA,IAAIK,GACAC,EAAY,GACZC,EAAMC,EAAE,UACRC,GAAe,QAAS,YAAa,QAAS,UAAW,SAAU,QAAS,UAC5EC,GAAS,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACvCC,GAAa,IAAK,IAAK,IAAK,KAEhC,SAASC,KACL,GAAIC,GAAON,EAAIM,OAAOC,QAAQ,uCAAwC,IAClEC,EAAOF,EAAKC,QAAQ,WAAY,KAAKA,QAAQ,OAAQ,KACrDE,CACJR,GAAES,KAAKR,EAAa,SAASd,EAAGuB,GAC5BF,EAAM,GAAIG,QAAO,OAASD,EAAa,OAAQ,KAC/CL,GAAOA,EAAKC,QAAQE,EAAK,SAASI,GAClCC,QAAQC,IAAI,oBAAqBF,EAC7B,OAAO,kCAAoCA,EAAI,aARhCC,SAYfC,IAAI,QAAST,EACrBQ,SAAQC,IAAI,OACZf,GAAIM,KAAKA,GAIb,QAASU,KACL,GAAIV,GAAON,EAAIM,OAAOC,QAAQ,iCAAkC,IAC5DC,EAAOF,EAAKC,QAAQ,WAAY,KAAKA,QAAQ,OAAQ,KACrDE,CACJR,GAAES,KAAKP,EAAO,SAASf,EAAG6B,GACtBR,EAAM,GAAIG,QAAO,OAASK,EAAO,OAAQ,KACzCX,GAAOA,EAAKC,QAAQE,EAAK,SAASI,GAClCC,QAAQC,IAAI,cAAeF,EACvB,OAAO,4BAA8BA,EAAI,aARhCC,SAYTC,IAAI,QAAST,EACrBQ,SAAQC,IAAI,OACZf,GAAIM,KAAKA,GAIb,QAASY,KACL,GAAIZ,GAAON,EAAIM,OAAOC,QAAQ,qCAAsC,IAChEC,EAAOF,EAAKC,QAAQ,WAAY,KAAKA,QAAQ,OAAQ,KACrDE,CACJR,GAAES,KAAKN,EAAW,SAAShB,EAAG+B,GAC1BV,EAAM,GAAIG,QAAO,IAAMO,EAAW,OAAQ,KAC1Cb,GAAOA,EAAKC,QAAQE,EAAK,SAASI,GAClCC,QAAQC,IAAI,kBAAmBF,EAC3B,OAAO,gCAAkCA,EAAI,aARhCC,SAYbC,IAAI,QAAST,EACrBQ,SAAQC,IAAI,OACZf,GAAIM,KAAKA,GAGbL,EAAEmB,UAAUC,QAAQ,SAAS1C,GAC3B2C,YAAYC,IAAmB,MAGjC,SAASA,KACP,GAAIjB,GAAON,EAAIM,MACf,IAAKP,GAAaO,GAAQA,EAAO,CAC/BkB,OAAOC,eAAeC,YAAY,EADH3B,GAKnBO,CACZD,IACAW,IACAE,IACAS,GAAwB3B,EAAI,KAIhC,QAAS2B,GAAwBC,GAE7B,GAAIC,GAAMC,CACV,IAAGV,SAASW,YACZ,CACIF,EAAQT,SAASW,aADrBF,GAEUG,mBAAmBJ,EAF7BC,GAGUI,SAAS,MAHnBH,GAIgBN,OAAOC,cAJvBK,GAKcI,iBALdJ,GAMcK,SAASN,OAElB,IAAGT,SAASU,UACjB,CACID,EAAQT,SAASgB,KAAKC,iBAD1BR,GAEUS,kBAAkBV,EAF5BC,GAGUI,SAAS,MAHnBJ,GAIUU,UAIdhB,cDCW","file":"highlight.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar changed,\n    lastValue = '',\n    div = $('.track'),\n    instruments = ['piano', 'saxophone', 'drums', 'trumpet', 'violin', 'flute', 'guitar'],\n    notes = ['a', 'b', 'c', 'd', 'e', 'f', 'g'],\n    modifiers = ['2', '4', '8', '16'];\n\nfunction markInstruments() {\n    var html = div.html().replace(/<\\/?span class=\"track-instrument\">/gi, ''),\n        text = html.replace(/<[^>]+>/g, ' ').replace(/\\s+/g, ' '),\n        exp;\n    $.each(instruments, function (i, instrument) {\n        exp = new RegExp('\\\\b(' + instrument + ')\\\\b', 'gi');\n        html = html.replace(exp, function (m) {\n            console.log('INSTRUMENT MATCH:', m);\n            return '<span class=\"track-instrument\">' + m + '</span>';\n        });\n    });\n    //html = html.replace('&nbsp;', ' ').replace(/\\s+/g, ' ');\n    console.log('HTML:', html);\n    console.log('----');\n    div.html(html);\n}\n\nfunction markNotes() {\n    var html = div.html().replace(/<\\/?span class=\"track-note\">/gi, ''),\n        text = html.replace(/<[^>]+>/g, ' ').replace(/\\s+/g, ' '),\n        exp;\n    $.each(notes, function (i, note) {\n        exp = new RegExp('\\\\b(' + note + ')\\\\b', 'gi');\n        html = html.replace(exp, function (m) {\n            console.log('NOTE MATCH:', m);\n            return '<span class=\"track-note\">' + m + '</span>';\n        });\n    });\n    //html = html.replace('&nbsp;', ' ').replace(/\\s+/g, ' ');\n    console.log('HTML:', html);\n    console.log('----');\n    div.html(html);\n}\n\nfunction markModifiers() {\n    var html = div.html().replace(/<\\/?span class=\"track-modifier\">/gi, ''),\n        text = html.replace(/<[^>]+>/g, ' ').replace(/\\s+/g, ' '),\n        exp;\n    $.each(modifiers, function (i, modifier) {\n        exp = new RegExp('(' + modifier + ')\\\\b', 'gi');\n        html = html.replace(exp, function (m) {\n            console.log('MODIFIER MATCH:', m);\n            return '<span class=\"track-modifier\">' + m + '</span>';\n        });\n    });\n    //html = html.replace('&nbsp;', ' ').replace(/\\s+/g, ' ');\n    console.log('HTML:', html);\n    console.log('----');\n    div.html(html);\n}\n\n$(document).keydown(function (e) {\n    setInterval(highlightSyntax(), 500);\n});\n\nfunction highlightSyntax() {\n    var html = div.html();\n    if (lastValue != html && html) {\n        window.getSelection().setPosition(0);\n        //console.log(lastValue);\n        //console.log(html);\n        //console.log('----');\n        lastValue = html;\n        markInstruments();\n        markNotes();\n        markModifiers();\n        setEndOfContenteditable(div[0]);\n    }\n};\n\nfunction setEndOfContenteditable(contentEditableElement) {\n    var range, selection;\n    if (document.createRange) //Firefox, Chrome, Opera, Safari, IE 9+\n        {\n            range = document.createRange(); //Create a range (a range is a like the selection but invisible)\n            range.selectNodeContents(contentEditableElement); //Select the entire contents of the element with the range\n            range.collapse(false); //collapse the range to the end point. false means collapse to end rather than the start\n            selection = window.getSelection(); //get the selection object (allows you to change selection)\n            selection.removeAllRanges(); //remove any selections already made\n            selection.addRange(range); //make the range you have just created the visible selection\n        } else if (document.selection) //IE 8 and lower\n            {\n                range = document.body.createTextRange(); //Create a range (a range is a like the selection but invisible)\n                range.moveToElementText(contentEditableElement); //Select the entire contents of the element with the range\n                range.collapse(false); //collapse the range to the end point. false means collapse to end rather than the start\n                range.select(); //Select the range (make it the visible selection\n            }\n};\n\nhighlightSyntax();\n\n},{}]},{},[1])\n\n","var changed,\n    lastValue = '',\n    div = $('.track'),\n    instruments = ['piano', 'saxophone', 'drums', 'trumpet', 'violin', 'flute', 'guitar'],\n    notes = ['a', 'b', 'c', 'd', 'e', 'f', 'g'],\n    modifiers = ['2', '4', '8', '16'];\n\nfunction markInstruments() {\n    var html = div.html().replace(/<\\/?span class=\"track-instrument\">/gi, ''),\n        text = html.replace(/<[^>]+>/g, ' ').replace(/\\s+/g, ' '),\n        exp;\n    $.each(instruments, function(i, instrument) {\n        exp = new RegExp('\\\\b(' + instrument + ')\\\\b', 'gi');\n        html = html.replace(exp, function(m) {\n        console.log('INSTRUMENT MATCH:', m);\n            return '<span class=\"track-instrument\">' + m + '</span>';\n        });\n    });\n    //html = html.replace('&nbsp;', ' ').replace(/\\s+/g, ' ');\n    console.log('HTML:', html);\n    console.log('----');\n    div.html(html);\n}\n\n\nfunction markNotes() {\n    var html = div.html().replace(/<\\/?span class=\"track-note\">/gi, ''),\n        text = html.replace(/<[^>]+>/g, ' ').replace(/\\s+/g, ' '),\n        exp;\n    $.each(notes, function(i, note) {\n        exp = new RegExp('\\\\b(' + note + ')\\\\b', 'gi');\n        html = html.replace(exp, function(m) {\n        console.log('NOTE MATCH:', m);\n            return '<span class=\"track-note\">' + m + '</span>';\n        });\n    });\n    //html = html.replace('&nbsp;', ' ').replace(/\\s+/g, ' ');\n    console.log('HTML:', html);\n    console.log('----');\n    div.html(html);\n}\n\n\nfunction markModifiers() {\n    var html = div.html().replace(/<\\/?span class=\"track-modifier\">/gi, ''),\n        text = html.replace(/<[^>]+>/g, ' ').replace(/\\s+/g, ' '),\n        exp;\n    $.each(modifiers, function(i, modifier) {\n        exp = new RegExp('(' + modifier + ')\\\\b', 'gi');\n        html = html.replace(exp, function(m) {\n        console.log('MODIFIER MATCH:', m);\n            return '<span class=\"track-modifier\">' + m + '</span>';\n        });\n    });\n    //html = html.replace('&nbsp;', ' ').replace(/\\s+/g, ' ');\n    console.log('HTML:', html);\n    console.log('----');\n    div.html(html);\n}\n\n$(document).keydown(function(e) {\n  setInterval(highlightSyntax(), 500);\n});\n\nfunction highlightSyntax() {\n  var html = div.html();\n  if ( lastValue != html && html ) {\n    window.getSelection().setPosition(0);\n    //console.log(lastValue);\n    //console.log(html);\n    //console.log('----');\n    lastValue = html;\n    markInstruments();\n    markNotes();\n    markModifiers();\n    setEndOfContenteditable(div[0]);\n  }\n};\n\nfunction setEndOfContenteditable(contentEditableElement)\n{\n    var range,selection;\n    if(document.createRange)//Firefox, Chrome, Opera, Safari, IE 9+\n    {\n        range = document.createRange();//Create a range (a range is a like the selection but invisible)\n        range.selectNodeContents(contentEditableElement);//Select the entire contents of the element with the range\n        range.collapse(false);//collapse the range to the end point. false means collapse to end rather than the start\n        selection = window.getSelection();//get the selection object (allows you to change selection)\n        selection.removeAllRanges();//remove any selections already made\n        selection.addRange(range);//make the range you have just created the visible selection\n    }\n    else if(document.selection)//IE 8 and lower\n    { \n        range = document.body.createTextRange();//Create a range (a range is a like the selection but invisible)\n        range.moveToElementText(contentEditableElement);//Select the entire contents of the element with the range\n        range.collapse(false);//collapse the range to the end point. false means collapse to end rather than the start\n        range.select();//Select the range (make it the visible selection\n    }\n};\n\nhighlightSyntax();\n"],"sourceRoot":"/source/"}